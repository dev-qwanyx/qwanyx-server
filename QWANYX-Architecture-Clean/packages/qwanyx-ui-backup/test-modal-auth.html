<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modal Auth-like Test - QWANYX UI</title>
  <link rel="stylesheet" href="./dist/ui.css">
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: system-ui, -apple-system, sans-serif;
      background: #f5f5f5;
    }
    
    .test-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .hidden {
      display: none;
    }

    /* Test button style to match qwanyx-ui Button */
    .test-button {
      padding: 10px 20px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: rgb(var(--primary));
      color: white;
      margin: 10px;
      transition: all 0.2s;
    }

    .test-button:hover {
      transform: translateY(-1px);
      filter: brightness(1.1);
    }

    /* Make sure inputs have proper styling */
    .qwanyx-input {
      width: 100%;
      padding: 10px 12px;
      font-size: 16px;
      border: 2px solid #e5e5e5;
      border-radius: 8px;
      background: white;
      transition: all 0.2s;
      margin-bottom: 1rem;
    }

    .qwanyx-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-size: 14px;
      font-weight: 500;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <h1>Modal with Auth-like Content Test</h1>
    <p>This test simulates how AuthModule uses the Modal with Input and Button components</p>

    <button class="test-button" onclick="openAuthModal()">
      Open Auth-like Modal
    </button>

    <button class="test-button" onclick="openFormModal()">
      Open Form Modal
    </button>

    <!-- Auth-like Modal -->
    <div id="authModal" class="qwanyx-modal-overlay hidden">
      <div class="qwanyx-modal qwanyx-modal--md">
        <button class="qwanyx-modal__close" onclick="closeAuthModal()">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        
        <div class="qwanyx-modal__body" style="padding: 2rem;">
          <!-- Logo/Title area -->
          <div style="text-align: center; margin-bottom: 2rem;">
            <h2 style="font-size: 1.5rem; font-weight: 600; margin: 0;">Se connecter</h2>
            <p style="color: #666; margin-top: 0.5rem;">Connectez-vous à votre compte Autodin</p>
          </div>

          <!-- Form content like AuthModule -->
          <form onsubmit="handleAuthSubmit(event)">
            <div class="form-group">
              <label class="form-label">Email *</label>
              <input 
                type="email" 
                class="qwanyx-input" 
                placeholder="email@example.com"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">Code de vérification</label>
              <input 
                type="text" 
                class="qwanyx-input" 
                placeholder="123456"
                maxlength="6"
                pattern="[0-9]{6}"
              />
            </div>

            <!-- Checkbox like rememberMe -->
            <div style="margin-bottom: 1.5rem;">
              <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" style="margin-right: 0.5rem;" />
                <span style="font-size: 14px;">Se souvenir de moi</span>
              </label>
            </div>

            <!-- Submit button -->
            <button type="submit" class="test-button" style="width: 100%; margin: 0;">
              Se connecter
            </button>
          </form>

          <!-- Switch mode section -->
          <div style="margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid #e5e5e5; text-align: center;">
            <span style="font-size: 14px; color: #666;">
              Pas encore de compte ?
              <button onclick="switchMode()" style="background: none; border: none; color: #3b82f6; cursor: pointer; font-weight: 500; margin-left: 0.5rem;">
                S'inscrire
              </button>
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Form Modal with multiple inputs -->
    <div id="formModal" class="qwanyx-modal-overlay hidden">
      <div class="qwanyx-modal qwanyx-modal--lg">
        <button class="qwanyx-modal__close" onclick="closeFormModal()">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        
        <div class="qwanyx-modal__header">
          <h2 class="qwanyx-modal__title">Complete Registration</h2>
          <p class="qwanyx-modal__description">Fill in your details to create an account</p>
        </div>
        
        <div class="qwanyx-modal__body">
          <form>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div class="form-group">
                <label class="form-label">First Name *</label>
                <input type="text" class="qwanyx-input" placeholder="John" required />
              </div>
              
              <div class="form-group">
                <label class="form-label">Last Name *</label>
                <input type="text" class="qwanyx-input" placeholder="Doe" required />
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Email *</label>
              <input type="email" class="qwanyx-input" placeholder="john.doe@example.com" required />
            </div>

            <div class="form-group">
              <label class="form-label">Phone</label>
              <input type="tel" class="qwanyx-input" placeholder="+32 123 45 67 89" />
            </div>

            <div class="form-group">
              <label class="form-label">Account Type</label>
              <select class="qwanyx-input">
                <option value="">Select...</option>
                <option value="personal">Personal</option>
                <option value="professional">Professional</option>
              </select>
            </div>
          </form>
        </div>
        
        <div class="qwanyx-modal__footer qwanyx-modal__footer--right">
          <button class="test-button" style="background: transparent; color: #666; border: 1px solid #e5e5e5;" onclick="closeFormModal()">
            Cancel
          </button>
          <button class="test-button" onclick="handleFormSubmit()">
            Create Account
          </button>
        </div>
      </div>
    </div>

    <hr style="margin: 3rem 0;">

    <h2>Test Results</h2>
    <div id="testResults" style="background: white; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
      <p>Click the buttons above to test the modals</p>
    </div>
  </div>

  <script>
    function openAuthModal() {
      document.getElementById('authModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      logResult('Auth modal opened');
    }

    function closeAuthModal() {
      document.getElementById('authModal').classList.add('hidden');
      document.body.style.overflow = '';
      logResult('Auth modal closed');
    }

    function openFormModal() {
      document.getElementById('formModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      logResult('Form modal opened');
    }

    function closeFormModal() {
      document.getElementById('formModal').classList.add('hidden');
      document.body.style.overflow = '';
      logResult('Form modal closed');
    }

    function handleAuthSubmit(event) {
      event.preventDefault();
      logResult('Auth form submitted');
      setTimeout(closeAuthModal, 500);
    }

    function handleFormSubmit() {
      logResult('Registration form submitted');
      setTimeout(closeFormModal, 500);
    }

    function switchMode() {
      logResult('Switched auth mode');
    }

    function logResult(message) {
      const results = document.getElementById('testResults');
      const time = new Date().toLocaleTimeString();
      results.innerHTML += `<div style="padding: 0.5rem; border-bottom: 1px solid #eee;">[${time}] ${message}</div>`;
    }

    // Close on overlay click
    document.getElementById('authModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeAuthModal();
      }
    });

    document.getElementById('formModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeFormModal();
      }
    });

    // Close on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeAuthModal();
        closeFormModal();
      }
    });

    // Check CSS variables on load
    window.addEventListener('load', function() {
      const root = document.documentElement;
      const styles = getComputedStyle(root);
      
      console.log('CSS Variables check:', {
        primary: styles.getPropertyValue('--primary'),
        background: styles.getPropertyValue('--background'),
        border: styles.getPropertyValue('--border'),
        text: styles.getPropertyValue('--text')
      });
    });
  </script>
</body>
</html>