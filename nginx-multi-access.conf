# Multiple ways to access the same Next.js apps

# 1. SUBDOMAIN ACCESS: autodin.qwanyx.com
server {
    listen 80;
    server_name autodin.qwanyx.com;
    
    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}

# 2. SUBDOMAIN ACCESS: belgicomics.qwanyx.com
server {
    listen 80;
    server_name belgicomics.qwanyx.com;
    
    location / {
        proxy_pass http://localhost:3002;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}

# 3. MAIN DOMAIN WITH PATHS: qwanyx.com/autodin
server {
    listen 80;
    server_name qwanyx.com www.qwanyx.com;
    
    # Homepage
    location / {
        proxy_pass http://localhost:3000;  # Main QWANYX site
    }
    
    # Autodin under /autodin
    location /autodin {
        proxy_pass http://localhost:3001/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Original-Path /autodin;
    }
    
    # Belgicomics under /belgicomics
    location /belgicomics {
        proxy_pass http://localhost:3002/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Original-Path /belgicomics;
    }
    
    # API remains the same
    location /api {
        proxy_pass http://localhost:5002;
    }
}

# 4. DEDICATED DOMAINS: autodin.be
server {
    listen 80;
    server_name autodin.be www.autodin.be;
    
    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}

# 5. IP-BASED ACCESS: 135.181.72.183/autodin
server {
    listen 80;
    server_name 135.181.72.183;
    
    location /autodin {
        proxy_pass http://localhost:3001/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
    }
    
    location /belgicomics {
        proxy_pass http://localhost:3002/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
    }
}